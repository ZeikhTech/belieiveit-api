{"version":3,"sources":["components/Headers/Header.js","components/Inputs/Input.js","components/Inputs/MySelect.js","components/Popups/ImagePicker.js","pages/posts/ModifyPost.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","props","a","createElement","className","fluid","children","MyInput","_ref","name","label","rest","Object","_Users_usamashehzad_Desktop_Projects_believeit_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_useFormikContext","useFormikContext","values","errors","touched","setFieldValue","value","error","classes","react__WEBPACK_IMPORTED_MODULE_1___default","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","assign","autoComplete","onChange","e","target","MySelect","_ref$options","options","placeholder","_Users_usamashehzad_Desktop_Projects_believeit_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","concat","_Users_usamashehzad_Desktop_Projects_believeit_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_2___default","reactstrap__WEBPACK_IMPORTED_MODULE_5__","type","style","color","console","log","map","option","k","key","ImagePicker","_props$onChange","_props$imagePreview","imagePreview","_useState","useState","_useState2","slicedToArray","previewImage","setPreviewImage","react_default","display","justifyContent","marginBottom","dist_es","onDrop","image","file","reader","FileReader","readAsDataURL","onloadend","result","bind","getRootProps","getInputProps","minHeight","minWidth","maxHeight","maxWidth","border","alignItems","src","textAlign","ModifyPost","match","history","title","youtubeVideo","description","link","_id","post","setPost","_useState3","_useState4","postImage","setPostImage","identifier","params","useEffect","loadPost","_ref2","asyncToGenerator","regenerator_default","mark","_callee","id","res","wrap","_context","prev","next","http","get","url","sent","data","t0","t1","response","status","handleErrors","replace","basePath","abrupt","stop","_x","apply","this","arguments","submitHandler","_ref4","_callee2","body","_ref3","setSubmitting","setErrors","imageRes","imageBody","_res","_context2","FormData","append","put","toast","success","ToastBody","message","goBack","finish","_x2","_x3","Fragment","Header","Container","Card","CardHeader","CardBody","formik_esm","initialValues","validationSchema","Yup","shape","trim","min","required","when","is","then","onSubmit","enableReinitialize","_ref5","isSubmitting","submitForm","postType","thumbnailUrl","Input","Button","disabled","onClick"],"mappings":"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","file":"static/js/19.6e1bef66.chunk.js","sourcesContent":["import React from \"react\";\nimport { Container } from \"reactstrap\";\n\nexport default (props) => {\n  return (\n    <div className=\"header bg-gradient-info pb-8 pt-5 pt-md-8\">\n      <Container fluid>{props.children}</Container>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { FormGroup, Input, Label } from \"reactstrap\";\n\nimport { useFormikContext } from \"formik\";\n\nconst MyInput = ({ name, label, ...rest }) => {\n  const { values, errors, touched, setFieldValue } = useFormikContext();\n  const value = values[name];\n  const error = touched[name] && errors[name];\n  let classes = \" form-control form-control-alternative text-black\";\n  if (error) {\n    classes = classes + \" border border-danger\";\n  }\n  return (\n    <FormGroup>\n      {label && <Label className=\"form-control-label\">{label}</Label>}\n      <Input\n        {...rest}\n        className={classes}\n        autoComplete=\"off\"\n        value={value}\n        onChange={(e) => {\n          setFieldValue(name, e.target.value);\n        }}\n      />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </FormGroup>\n  );\n};\n\nexport default MyInput;\n","import React from \"react\";\nimport { FormGroup, Input, Label } from \"reactstrap\";\nimport { useFormikContext } from \"formik\";\n\nconst MySelect = ({\n  name,\n  label,\n  className,\n  options = [],\n  placeholder,\n  ...rest\n}) => {\n  const { values, errors, touched, setFieldValue } = useFormikContext();\n\n  const value = values[name];\n  const error = touched[name] && errors[name];\n  let classes = className + \" form-control form-control-alternative text-black\";\n  if (error) {\n    classes = classes + \" border border-danger\";\n  }\n\n  if (placeholder) {\n    options = [{ label: placeholder || \"\", value: \"\" }, ...options];\n  }\n  return (\n    <FormGroup>\n      {label && <Label className=\"form-control-label\">{label}</Label>}\n      <Input\n        {...rest}\n        type=\"select\"\n        className={classes}\n        style={{ color: \"black\" }}\n        value={value}\n        onChange={(e) => {\n          console.log(e.target.value);\n          setFieldValue(name, e.target.value);\n        }}\n      >\n        {options.map((option, k) => (\n          <option key={k} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </Input>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </FormGroup>\n  );\n};\n\n{\n  /* <Input type=\"select\" name=\"select\" id=\"exampleSelect\">\n          <option>1</option>\n          <option>2</option>\n          <option>3</option>\n          <option>4</option>\n          <option>5</option>\n        </Input> */\n}\n\nexport default MySelect;\n","import React, { useState } from \"react\";\nimport Dropzone from \"react-dropzone\";\nexport default (props) => {\n  const { onChange = () => {}, imagePreview = \"\" } = props;\n  const [previewImage, setPreviewImage] = useState(imagePreview);\n\n  const onImageDrop = (image) => {\n    var file = image[0];\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = function (e) {\n      setPreviewImage(reader.result);\n    }.bind(this);\n\n    if (onChange) onChange(image);\n  };\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"space-around\",\n        marginBottom: \"5px\",\n      }}\n    >\n      <Dropzone onDrop={onImageDrop}>\n        {({ getRootProps, getInputProps }) => (\n          <section>\n            <div {...getRootProps()}>\n              <input {...getInputProps()} />\n              <div\n                style={{\n                  minHeight: \"180px\",\n                  minWidth: \"180px\",\n                  maxHeight: \"300px\",\n                  maxWidth: \"400px\",\n                  border: \"3px dashed #ccc\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                {previewImage !== null ? (\n                  <img src={previewImage} className=\"w-100\" />\n                ) : (\n                  <p\n                    style={{\n                      textAlign: \"center\",\n                      color: \"#ccc\",\n                      maxWidth: \"200px\",\n                    }}\n                  >\n                    Drag 'n' drop image here, or click to select image\n                  </p>\n                )}\n              </div>\n            </div>\n          </section>\n        )}\n      </Dropzone>\n    </div>\n  );\n};\n\n// import React, { Component } from \"react\";\n// import { Modal, Button, ProgressBar } from \"react-bootstrap\";\n// import Dropzone from \"react-dropzone\";\n// import Cropper from \"react-cropper\";\n// import \"cropperjs/dist/cropper.css\";\n// import { dataURLtoFile } from \"../helpers/image\";\n// import mediaHttp from \"../http/media\";\n// import { handleHttpErrors } from \"../helpers/error\";\n// class ImagePicker extends Component {\n//   state = {\n//     image: null,\n//     imagePreview: null,\n//     showPicker: false,\n//     isChanged: false,\n//     isUploading: false,\n//     uploadProgress: 0,\n//   };\n\n//   showPicker = () => {\n//     this.setState({ showPicker: true });\n//   };\n\n//   hidePicker = () => {\n//     this.setState({ showPicker: false });\n//   };\n\n//   reset = () => {\n//     this.setState({\n//       image: null,\n//       imagePreview: null,\n//       showPicker: false,\n//       isChanged: false,\n//       isUploading: false,\n//       uploadProgress: 0,\n//     });\n//   };\n//   onImageDrop = (image) => {\n//     var file = image[0];\n//     var reader = new FileReader();\n//     reader.readAsDataURL(file);\n//     reader.onloadend = function (e) {\n//       this.setState({ imagePreview: reader.result });\n//     }.bind(this);\n\n//     this.setState({ image: file, isChanged: true });\n//   };\n\n//   onSave = async () => {\n//     const { isChanged, image } = this.state;\n//     const { onSave } = this.props;\n//     if (!isChanged) return;\n\n//     const dataUrl = this.cropper.current.getCroppedCanvas().toDataURL();\n//     const fileObj = dataURLtoFile(dataUrl, image.name);\n//     const media = await this.uploadToServer(fileObj);\n//     if (!media) return;\n//     if (onSave) onSave(media);\n//   };\n\n//   uploadToServer = async (image) => {\n//     const formData = new FormData();\n//     formData.append(\"image\", image);\n//     try {\n//       this.setState({ isUploading: true, uploadProgress: 0 });\n//       const res = await mediaHttp.uploadImage(formData, this.onUploadProgress);\n//       return res.data;\n//     } catch (err) {\n//       handleHttpErrors(err);\n//     } finally {\n//       this.setState({ isUploading: false });\n//     }\n//     return null;\n//   };\n\n//   onUploadProgress = (progressEvent) => {\n//     var percentCompleted = Math.round(\n//       (progressEvent.loaded * 100) / progressEvent.total\n//     );\n//     this.setState({ uploadProgress: percentCompleted });\n//     console.log(percentCompleted);\n//   };\n//   cropper = React.createRef();\n\n//   render() {\n//     const {\n//       showPicker,\n//       isChanged,\n//       imagePreview,\n//       uploadProgress,\n//       isUploading,\n//     } = this.state;\n//     const { title, aspectRatio = 16 / 9 } = this.props;\n//     return (\n//       <div className=\"image-picker\">\n//         <Modal show={showPicker} onHide={() => {}}>\n//           <Modal.Header>\n//             <Modal.Title>{title || \"Pick Image\"}</Modal.Title>\n//           </Modal.Header>\n//           <Modal.Body>\n//             {imagePreview && (\n//               <Cropper\n//                 viewMode={1}\n//                 zoomable={false}\n//                 ref={this.cropper}\n//                 src={imagePreview}\n//                 style={{ width: \"100%\", marginBottom: \"10px\", height: \"380px\" }}\n//                 aspectRatio={aspectRatio}\n//                 guides={false}\n//               />\n//             )}\n\n//             <Dropzone onDrop={this.onImageDrop}>\n//               {({ getRootProps, getInputProps }) => (\n//                 <section>\n//                   <div {...getRootProps()}>\n//                     <input {...getInputProps()} />\n//                     <div\n//                       style={{\n//                         height: \"60px\",\n//                         border: \"3px dashed #ccc\",\n//                         display: \"flex\",\n//                         alignItems: \"center\",\n//                         justifyContent: \"center\",\n//                       }}\n//                     >\n//                       <p style={{ textAlign: \"center\", color: \"#ccc\" }}>\n//                         Drag 'n' drop image here, or click to select image\n//                       </p>\n//                     </div>\n//                   </div>\n//                 </section>\n//               )}\n//             </Dropzone>\n//             {isUploading && (\n//               <ProgressBar now={uploadProgress} style={{ marginTop: \"10px\" }} />\n//             )}\n//           </Modal.Body>\n//           <Modal.Footer>\n//             <Button variant=\"secondary\" onClick={this.hidePicker}>\n//               Cancel\n//             </Button>\n//             <Button\n//               variant=\"primary\"\n//               disabled={!isChanged || isUploading}\n//               onClick={this.onSave}\n//             >\n//               Save Changes\n//             </Button>\n//           </Modal.Footer>\n//         </Modal>\n//       </div>\n//     );\n//   }\n// }\n\n// export default ImagePicker;\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Container, Card, CardHeader, CardBody } from \"reactstrap\";\nimport Header from \"../../components/Headers/Header\";\nimport { basePath } from \"../../configs\";\nimport { handleErrors } from \"../../helpers/error\";\n\nimport http from \"../../services/http\";\n\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport Input from \"../../components/Inputs/Input\";\nimport MySelect from \"../../components/Inputs/MySelect\";\nimport { toast } from \"react-toastify\";\nimport ToastBody from \"../../components/Popups/ToastBody\";\n\nimport RichEditor from \"../../components/Inputs/RichEditor\";\n\nimport ImagePicker from \"../../components/Popups/ImagePicker\";\n\nconst api_endpoint = \"/posts/\";\n\nconst ModifyPost = ({ match, history }) => {\n  const [post, setPost] = useState({\n    title: \"\",\n    type: \"youtube_video\",\n    youtubeVideo: \"\",\n    image: \"\",\n    description: \"\",\n    link: \"\",\n    _id: \"\",\n  });\n\n  const [postImage, setPostImage] = useState(null);\n\n  const { identifier } = match.params;\n\n  useEffect(() => {\n    if (identifier !== \"add\" && identifier !== post._id) loadPost(identifier);\n  }, [identifier]);\n\n  const loadPost = async (id) => {\n    try {\n      const res = await http.get({ url: api_endpoint + identifier });\n      setPost(res.data);\n    } catch (err) {\n      switch (err.response.status) {\n        case 404:\n          handleErrors(\"Post not found!\");\n          history.replace(basePath + \"/posts/\");\n          break;\n        default:\n          handleErrors(\"Something went wrong!\");\n      }\n    }\n  };\n\n  const submitHandler = async (body, { setSubmitting, setErrors }) => {\n    try {\n      let imageRes;\n\n      if (body.type === \"blog\" && postImage !== null) {\n        const imageBody = new FormData();\n        imageBody.append(\"image\", postImage);\n        imageRes = await http.post({\n          url: \"/media/image\",\n          body: imageBody,\n        });\n\n        body.image = imageRes.data._id;\n      }\n\n      if (identifier === \"add\") {\n        const res = await http.post({ url: api_endpoint, body });\n        setPost(res.data);\n      } else {\n        const res = await http.put({\n          url: api_endpoint + identifier,\n          body,\n        });\n        setPost(res.data);\n      }\n      setPostImage(null);\n\n      toast.success(\n        <ToastBody\n          title=\"Success\"\n          message={\n            identifier === \"add\"\n              ? \"Post Created Successfully.\"\n              : \"Post Updated Successfully.\"\n          }\n        />\n      );\n      history.goBack();\n    } catch (err) {\n      switch (err.response.status) {\n        case 400:\n          setErrors(err.response.data.error);\n          break;\n        case 404:\n          handleErrors(\"This post is deleted\");\n          break;\n        default:\n          handleErrors(\"Something went wrong!\");\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const renderPostForm = () => {\n    return (\n      <Formik\n        initialValues={{\n          title: post.title,\n          type: post.type,\n          link: post.link,\n          youtubeVideo: post.youtubeVideo,\n          description: post.description,\n        }}\n        validationSchema={Yup.object().shape({\n          title: Yup.string().trim().min(1).required(),\n\n          type: Yup.string().trim().required(),\n\n          youtubeVideo: Yup.string().when(\"type\", {\n            is: \"youtube_video\",\n            then: Yup.string().required(),\n          }),\n\n          link: Yup.string().when(\"type\", {\n            is: \"blog\",\n            then: Yup.string().required(),\n          }),\n        })}\n        onSubmit={submitHandler}\n        enableReinitialize\n      >\n        {({ values, isSubmitting, submitForm }) => {\n          const postType = values.type;\n          return (\n            <Form>\n              <div className=\"row\">\n                {postType === \"blog\" && (\n                  <div className=\"col-12\">\n                    <ImagePicker\n                      imagePreview={post.image.thumbnailUrl}\n                      onChange={(image) => {\n                        setPostImage(image[0]);\n                      }}\n                    />\n                  </div>\n                )}\n                <div className=\"col-12\">\n                  <Input\n                    label=\"Post Title\"\n                    name=\"title\"\n                    placeholder=\"Post Title...\"\n                  />\n                </div>\n\n                <div className=\"col-12\">\n                  <MySelect\n                    name=\"type\"\n                    label=\"Post Type\"\n                    options={[\n                      { label: \"Youtube Video\", value: \"youtube_video\" },\n                      { label: \"Blog\", value: \"blog\" },\n                    ]}\n                  />\n                </div>\n                {postType === \"youtube_video\" && (\n                  <div className=\"col-12\">\n                    <Input\n                      label=\"Youtube Video Id\"\n                      name=\"youtubeVideo\"\n                      placeholder=\"youtube video id\"\n                    />\n                  </div>\n                )}\n\n                {postType === \"blog\" && (\n                  <>\n                    <div className=\"col-12\">\n                      <Input\n                        label=\"Description\"\n                        name=\"description\"\n                        placeholder=\"description...\"\n                      />\n                    </div>\n\n                    {/* <div className=\"col-12\">\n                      <RichEditor\n                        label=\"Content\"\n                        name=\"htmlContent\"\n                        className=\"w-100\"\n                      />\n                    </div> */}\n                    <div className=\"col-12\">\n                      <Input label=\"Link\" name=\"link\" placeholder=\"Link\" />\n                    </div>\n                  </>\n                )}\n\n                <div className=\"col-12 text-center\">\n                  <Button\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    type=\"submit\"\n                    onClick={submitForm}\n                  >\n                    Save\n                  </Button>\n                </div>\n              </div>\n            </Form>\n          );\n        }}\n      </Formik>\n    );\n  };\n  return (\n    <>\n      <Header />\n      <Container className=\"mt--7\">\n        <Card className=\"shadow\">\n          <CardHeader>\n            <div className=\"clearfix\">\n              <h2 className=\"mb-0 float-left\">\n                {identifier === \"add\" ? \"Add Post\" : post.title}\n              </h2>\n            </div>\n          </CardHeader>\n          <CardBody className=\"bg-secondary\">{renderPostForm()}</CardBody>\n        </Card>\n      </Container>\n    </>\n  );\n};\n\nexport default ModifyPost;\n"],"sourceRoot":""}