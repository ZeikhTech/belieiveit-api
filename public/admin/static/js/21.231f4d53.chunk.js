(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{382:function(e,a,t){"use strict";var r=t(0),n=t.n(r),l=t(362);a.a=function(e){return n.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},n.a.createElement(l.a,{fluid:!0},e.children))}},384:function(e,a,t){"use strict";var r=t(76),n=t(0),l=t.n(n),c=t(358),s=t(390),i=t(361),u=t(75);a.a=function(e){var a=e.name,t=e.label,n=Object(r.a)(e,["name","label"]),o=Object(u.c)(),m=o.values,d=o.errors,f=o.touched,b=o.setFieldValue,p=m[a],v=f[a]&&d[a],y=" form-control form-control-alternative text-black";return v&&(y+=" border border-danger"),l.a.createElement(c.a,null,t&&l.a.createElement(s.a,{className:"form-control-label"},t),l.a.createElement(i.a,Object.assign({},n,{className:y,autoComplete:"off",value:p,onChange:function(e){b(a,e.target.value)}})),v&&l.a.createElement("div",{className:"alert alert-danger"},v))}},409:function(e,a,t){"use strict";t(72);var r=t(0),n=t.n(r),l=t(425);a.a=function(e){var a=e.error,t=e.label,r=(e.value,"my-select");return a&&(r+=" my-input-error"),n.a.createElement("div",{className:"form-group"},t&&n.a.createElement("label",null,t),n.a.createElement(l.a,Object.assign({},e,{className:r})),a&&n.a.createElement("p",{className:"my-input-error-text",style:{color:"red"}},a))}},485:function(e,a,t){"use strict";t.r(a);var r=t(34),n=t.n(r),l=t(65),c=t(64),s=t(0),i=t.n(s),u=t(188),o=t(362),m=t(365),d=t(387),f=t(366),b=t(382),p=t(75),v=t(78),y=t(384),g=t(409),E=(t(10),t(29)),h=t(40),D=t(50),O=t(38),N="/pre_defined_milestones/";a.default=function(e){var a=e.match,t=e.history,r=a.params,w=r.identifier,k=r.preDefinedGoal,x=Object(s.useState)({title:"",preDefinedGoal:k,frequency:1,repeatingDays:[],timeOfDay:[]}),j=Object(c.a)(x,2),S=j[0],q=j[1];Object(s.useEffect)(function(){"add"!==w&&w!==S._id&&F()},[w]);var F=function(){var e=Object(l.a)(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get({url:N+w});case 3:a=e.sent,q(a.data),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),e.t1=e.t0.response.status,e.next=404===e.t1?12:14;break;case 12:return Object(D.a)("Pre Defined Milestone not found!"),e.abrupt("break",15);case 14:Object(D.a)("Something went wrong!");case 15:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(n.a.mark(function e(a,r){var l,c,s,u;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.setSubmitting,c=r.setErrors,e.prev=1,"add"!==w){e.next=9;break}return e.next=5,O.a.post({url:N,body:a});case 5:s=e.sent,q(s.data),e.next=13;break;case 9:return e.next=11,O.a.put({url:N+w,body:a});case 11:u=e.sent,q(u.data);case 13:E.toast.success(i.a.createElement(h.a,{title:"Success",message:"add"===w?"Pre Defined Milestone Created Successfully.":"Pre Defined Milestone Updated Successfully."})),t.goBack(),e.next=27;break;case 17:e.prev=17,e.t0=e.catch(1),e.t1=e.t0.response.status,e.next=400===e.t1?22:404===e.t1?24:26;break;case 22:return c(e.t0.response.data.error),e.abrupt("break",27);case 24:return Object(D.a)("This category is deleted"),e.abrupt("break",27);case 26:Object(D.a)("Something went wrong!");case 27:return e.prev=27,l(!1),e.finish(27);case 30:case"end":return e.stop()}},e,null,[[1,17,27,30]])}));return function(a,t){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,null),i.a.createElement(o.a,{className:"mt--7"},i.a.createElement(m.a,{className:"shadow"},i.a.createElement(d.a,null,i.a.createElement("div",{className:"clearfix"},i.a.createElement("h2",{className:"mb-0 float-left"},"add"===w?"Add Pre Defined Milestone":S.title))),i.a.createElement(f.a,{className:"bg-secondary"},function(){var e=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],a=["morning","evening","noon","night"].map(function(e){return{label:e,value:e}});return i.a.createElement(p.b,{initialValues:S,validationSchema:v.d().shape({title:v.e().trim().min(1).required(),preDefinedGoal:v.e().trim().min(24).required(),frequency:v.c().min(1).required(),repeatingDays:v.a().of(v.e().required()).required(),timeOfDay:v.a().of(v.e().required()).required()}),enableReinitialize:!0,onSubmit:M},function(t){var r=t.isSubmitting,n=t.submitForm,l=t.setFieldValue,c=t.values,s=t.touched,o=t.errors,m=e.filter(function(e){return c.repeatingDays.includes(e.value)}),d=a.filter(function(e){return c.timeOfDay.includes(e.value)});return i.a.createElement(p.a,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement(y.a,{name:"title",placeholder:"Title",label:"Title"})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(y.a,{name:"frequency",placeholder:"Frequency",label:"Frequency",type:"number",min:1})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(g.a,{label:"Time of Day",isMulti:!0,options:a,value:d,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];null===e&&(e=[]),console.log("change",e),l("timeOfDay",e.map(function(e){return e.value}))},error:s.timeOfDay&&o.timeOfDay})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(g.a,{label:"Repeating Days",isMulti:!0,options:e,value:m,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];null===e&&(e=[]),console.log("change",e),l("repeatingDays",e.map(function(e){return e.value}))},error:s.repeatingDays&&o.repeatingDays})),i.a.createElement("div",{className:"col-12 text-center"},i.a.createElement(u.a,{color:"primary",disabled:r,type:"submit",onClick:n},"Save"))))})}()))))}}}]);
//# sourceMappingURL=21.231f4d53.chunk.js.map