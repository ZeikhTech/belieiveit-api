(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{382:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(362);t.a=function(e){return r.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},r.a.createElement(c.a,{fluid:!0},e.children))}},384:function(e,t,a){"use strict";var n=a(76),r=a(0),c=a.n(r),l=a(358),s=a(390),o=a(361),i=a(75);t.a=function(e){var t=e.name,a=e.label,r=Object(n.a)(e,["name","label"]),u=Object(i.c)(),m=u.values,d=u.errors,f=u.touched,p=u.setFieldValue,b=m[t],v=f[t]&&d[t],g=" form-control form-control-alternative text-black";return v&&(g+=" border border-danger"),c.a.createElement(l.a,null,a&&c.a.createElement(s.a,{className:"form-control-label"},a),c.a.createElement(o.a,Object.assign({},r,{className:g,autoComplete:"off",value:b,onChange:function(e){p(t,e.target.value)}})),v&&c.a.createElement("div",{className:"alert alert-danger"},v))}},386:function(e,t,a){"use strict";var n=a(25),r=a(76),c=a(0),l=a.n(c),s=a(358),o=a(390),i=a(361),u=a(75);t.a=function(e){var t=e.name,a=e.label,c=e.className,m=e.options,d=void 0===m?[]:m,f=e.placeholder,p=Object(r.a)(e,["name","label","className","options","placeholder"]),b=Object(u.c)(),v=b.values,g=b.errors,h=b.touched,E=b.setFieldValue,x=v[t],N=h[t]&&g[t],k=c+" form-control form-control-alternative text-black";return N&&(k+=" border border-danger"),f&&(d=[{label:f||"",value:""}].concat(Object(n.a)(d))),l.a.createElement(s.a,null,a&&l.a.createElement(o.a,{className:"form-control-label"},a),l.a.createElement(i.a,Object.assign({},p,{type:"select",className:k,style:{color:"black"},value:x,onChange:function(e){console.log(e.target.value),E(t,e.target.value)}}),d.map(function(e,t){return l.a.createElement("option",{key:t,value:e.value},e.label)})),N&&l.a.createElement("div",{className:"alert alert-danger"},N))}},391:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.checked,a=e.onChange,n=e.disabled,c=void 0!==n&&n;return r.a.createElement("label",{className:"custom-toggle"},r.a.createElement("input",{type:"checkbox",checked:t,disabled:c,onChange:function(e){a(e.target.checked)}}),r.a.createElement("span",{className:"custom-toggle-slider rounded-circle"}))}},399:function(e,t,a){"use strict";var n=a(76),r=a(0),c=a.n(r),l=a(358),s=a(390),o=a(391),i=a(75);t.a=function(e){var t=e.name,a=e.label,r=Object(n.a)(e,["name","label"]),u=Object(i.c)(),m=u.values,d=u.errors,f=u.touched,p=u.setFieldValue,b=m[t],v=f[t]&&d[t],g=" form-control form-control-alternative text-black";return v&&(g+=" border border-danger"),c.a.createElement(l.a,null,a&&c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{className:"form-control-label"},a),c.a.createElement("br",null)),c.a.createElement(o.a,Object.assign({},r,{className:g,checked:b,onChange:function(e){p(t,e)}})),v&&c.a.createElement("div",{className:"alert alert-danger"},v))}},400:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(424),l=a(415),s=a.n(l),o=Object(c.a)(function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,t)}),i=Object(c.b)(function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,t)});t.a=function(e){var t=e.data,a=void 0===t?[]:t,n=e.renderItem,c=e.keyExtractor,l=void 0===c?function(){return""}:c,u=e.onListSort,m=void 0===u?function(){}:u,d=e.axis,f=void 0===d?"y":d,p=e.className,b=void 0===p?"":p,v=e.style,g=void 0===v?{}:v;return r.a.createElement(o,{distance:20,onSortStart:function(e){e.node},axis:f,helperClass:"border border-primary",onSortEnd:function(e){var t=function(e){var t=e.oldIndex,n=e.newIndex;return s()(a,t,n)}(e);m(t)}},r.a.createElement("div",{className:b,style:g},a.map(function(e,t){return r.a.createElement(i,{key:l(e,t),index:t},n(e,t))})))}},482:function(e,t,a){"use strict";a.r(t);var n=a(34),r=a.n(n),c=a(65),l=a(64),s=a(0),o=a.n(s),i=a(188),u=a(483),m=a(484),d=a(362),f=a(365),p=a(387),b=a(366),v=a(382),g=a(384),h=a(386),E=a(399),x=a(391),N=a(368),k=a(400),w=a(75),_=a(78),j=a(10),O=a(50),y=a(38);t.default=function(e){var t=e.match,a=e.history,n=Object(s.useState)([]),S=Object(l.a)(n,2),C=S[0],F=S[1],A=Object(s.useState)({_id:"",title:"",goalCategory:"",isActive:!1}),I=Object(l.a)(A,2),z=I[0],V=I[1],D=Object(s.useState)([]),G=Object(l.a)(D,2),P=G[0],q=G[1],J=Object(s.useState)(!0),L=Object(l.a)(J,2),M=(L[0],L[1]),T=t.params.identifier;Object(s.useEffect)(function(){B(),R(),H()},[]);var R=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),e.next=4,y.a.get({url:"/goal_categories/"});case 4:t=e.sent,F(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)("Something went wrong!");case 11:return e.prev=11,M(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),e.next=4,y.a.get({url:"/pre_defined_goals/"+T});case 4:t=e.sent,V(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)("Something went wrong!");case 11:return e.prev=11,M(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get({url:"/pre_defined_milestones/goal_milestones/"+T});case 3:t=e.sent,q(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(O.a)("Something went wrong!");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(P.map(function(e){return e._id===t&&(e.isActive=a),e})),e.next=4,y.a.put({url:"/pre_defined_milestones/change_status/"+t,body:{isActive:a}});case 4:e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(O.a)("Something went wrong!"),q(P.map(function(e){return e._id===t&&(e.isActive=!a),e}));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.put({url:"/pre_defined_milestones/rearrange/",body:{orderIds:t}});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(O.a)("Something went wrong!");case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure you want to delete "'.concat(t.title,'"?'))){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,y.a.delete({url:"/pre_defined_milestones/"+t._id});case 6:a=P.filter(function(e){return e._id!==t._id}),q(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),Object(O.a)("Failed to delete Milestone.");case 14:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(r.a.mark(function e(t,a){var n,c,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,c=a.setErrors,e.prev=1,e.next=4,y.a.put({url:"/pre_defined_goals/"+z._id,body:t});case 4:l=e.sent,V(l.data),e.next=18;break;case 8:e.prev=8,e.t0=e.catch(1),e.t1=e.t0.response.status,e.next=400===e.t1?13:404===e.t1?15:17;break;case 13:return c(e.t0.response.data.error),e.abrupt("break",18);case 15:return Object(O.a)("Goal is already deleted"),e.abrupt("break",18);case 17:Object(O.a)("Something went wrong!");case 18:return e.prev=18,n(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[1,8,18,21]])}));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,null),o.a.createElement(d.a,{className:"mt--7"},o.a.createElement(f.a,{className:"shadow"},o.a.createElement(p.a,null,o.a.createElement("div",{className:"clearfix"},o.a.createElement("h2",{className:"mb-0 float-left"},"Edit Pre Defined Goal"))),o.a.createElement(b.a,{className:"bg-secondary"},o.a.createElement(w.b,{initialValues:z,validationSchema:_.d().shape({title:_.e().trim().min(1).required(),goalCategory:_.e().trim().min(24).required()}),enableReinitialize:!0,onSubmit:W},function(e){var t=e.isSubmitting,a=e.submitForm;return o.a.createElement(w.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement(g.a,{name:"title",placeholder:"Title",label:"Title"})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(h.a,{label:"Goal Category",name:"goalCategory",placeholder:"Choose a Category",options:C.map(function(e){return{label:e.name,value:e._id}})})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(E.a,{name:"isActive",label:"Status"})),o.a.createElement("div",{className:"col-12 text-center"},o.a.createElement(i.a,{color:"primary",disabled:t,type:"submit",onClick:a},"Save"))))}),o.a.createElement("div",{className:"clearfix mt-3"},o.a.createElement("h1",{className:"float-left"},"Milestones"),o.a.createElement(N.a,{className:"btn btn-success btn-sm float-right mt-2",size:"sm",to:j.b+"/pre_defined_milestones/".concat(z._id,"/add")},o.a.createElement("i",{className:"fa fa-pencil-alt"})," Add")),0===P.length?o.a.createElement("div",{className:"text-center m-3"},o.a.createElement("p",{className:"text-ligth"},"No milestones available")):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null,o.a.createElement(k.a,{data:P,keyExtractor:function(e){return e._id},onListSort:function(e){q(e),Q(e.map(function(e){return e._id}))},renderItem:function(e,t){return o.a.createElement(m.a,{className:"rounded mb-1"},o.a.createElement("div",{className:"clearfix"},o.a.createElement(N.a,{to:j.b+"/pre_defined_sub_milestones/"+e._id},o.a.createElement("span",{className:"text-dark"},e.title)),o.a.createElement(i.a,{color:"danger",size:"sm",className:"float-right",onClick:function(t){t.preventDefault(),t.stopPropagation(),U(e)}},o.a.createElement("i",{className:"fas fa-trash"})),o.a.createElement(i.a,{color:"primary",size:"sm",className:"float-right mr-1",onClick:function(t){t.preventDefault(),t.stopPropagation(),a.push(j.b+"/pre_defined_milestones/".concat(z._id,"/").concat(e._id))}},o.a.createElement("i",{className:"fas fa-pencil-alt"})),o.a.createElement("div",{className:"float-right mt-1"},o.a.createElement(x.a,{checked:e.isActive,onChange:function(t){K(e._id,t)}}))))}})))))))}}}]);
//# sourceMappingURL=9.b7ae4b77.chunk.js.map